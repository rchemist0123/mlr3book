<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Flexible and Robust Machine Learning Using mlr3 in R - 1&nbsp; Introduction and Overview</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./basics.html" rel="next">
<link href="./preface.html" rel="prev">
<link href="./favicon.ico" rel="icon">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><style>html{ scroll-behavior: smooth; }</style>
<script async="" src="https://hypothes.is/embed.js"></script>
</head>
<body class="nav-sidebar floating slimcontent">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }"><div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction and Overview</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Flexible and Robust Machine Learning Using mlr3 in R</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/mlr-org/mlr3book/tree/main/book/" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
    <a href="./Flexible-and-Robust-Machine-Learning-Using-mlr3-in-R.pdf" title="Download PDF" class="sidebar-tool px-1"><i class="bi bi-file-pdf"></i></a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Getting Started</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./preface.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction and Overview</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./basics.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Fundamentals</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./performance.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Resampling and Benchmarking</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./optimization.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Hyperparameter Optimization</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./feature-selection.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Feature Selection</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pipelines.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Pipelines</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./preprocessing.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Preprocessing</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./special.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Special Tasks</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./technical.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Technical</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./interpretation.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Model Interpretation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./extending.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Extending</span></a>
  </div>
</li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">Appendices</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./solutions.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Solutions to exercises</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./glossary.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Glossary</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tasks.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Tasks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./overview-tables.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">Overview Tables</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">E</span>&nbsp; <span class="chapter-title">Session Info</span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#target-audience" id="toc-target-audience" class="nav-link active" data-scroll-target="#target-audience"><span class="toc-section-number">1.1</span>  Target audience</a></li>
  <li><a href="#from-mlr-to-mlr3" id="toc-from-mlr-to-mlr3" class="nav-link" data-scroll-target="#from-mlr-to-mlr3"><span class="toc-section-number">1.2</span>  From mlr to mlr3</a></li>
  <li><a href="#design-principles" id="toc-design-principles" class="nav-link" data-scroll-target="#design-principles"><span class="toc-section-number">1.3</span>  Design principles</a></li>
  <li><a href="#package-ecosystem" id="toc-package-ecosystem" class="nav-link" data-scroll-target="#package-ecosystem"><span class="toc-section-number">1.4</span>  Package ecosystem</a></li>
  <li><a href="#sec-r6" id="toc-sec-r6" class="nav-link" data-scroll-target="#sec-r6"><span class="toc-section-number">1.5</span>  Quick R6 introduction for beginners</a></li>
  <li><a href="#sec-data.table" id="toc-sec-data.table" class="nav-link" data-scroll-target="#sec-data.table"><span class="toc-section-number">1.6</span>  Quick <code>data.table</code> introduction for beginners</a></li>
  <li><a href="#sec-mlr3-utilities" id="toc-sec-mlr3-utilities" class="nav-link" data-scroll-target="#sec-mlr3-utilities"><span class="toc-section-number">1.7</span>  Essential <code>mlr3</code> utilities</a></li>
  </ul><div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/mlr-org/mlr3book/edit/main/book/intro.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/mlr-org/mlr3book/issues/new" class="toc-action">Report an issue</a></p><p><a href="https://github.com/mlr-org/mlr3book/blob/main/book/intro.qmd" class="toc-action">View source</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span id="sec-introduction" class="quarto-section-identifier d-none d-lg-block"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction and Overview</span></span></h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header><div class="page-columns page-full"><p>The (<strong>M</strong>achine <strong>L</strong>earning in <strong>R</strong>) <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> <span class="citation" data-cites="mlr3">(<a href="references.html#ref-mlr3" role="doc-biblioref">Lang et al. 2019</a>)</span> package and ecosystem provide a generic, object-oriented, and extensible framework for regression (<a href="tasks.html"><span>Appendix&nbsp;C</span></a>), classification (<a href="basics.html#sec-classif"><span>Section&nbsp;2.4</span></a>), and other machine learning tasks (<a href="special.html"><span>Chapter&nbsp;8</span></a>) for the R language <span class="citation" data-cites="R">(<a href="references.html#ref-R" role="doc-biblioref">R Core Team 2019</a>)</span>. This unified interface provides functionality to extend and combine existing machine learning algorithms (learners (<a href="basics.html#sec-learners"><span>Section&nbsp;2.2</span></a>)), intelligently select and tune the most appropriate technique for a given machine learning task (<a href="tasks.html"><span>Appendix&nbsp;C</span></a>), and perform large-scale comparisons that enable meta-learning. Examples of this advanced functionality include hyperparameter tuning (<a href="optimization.html"><span>Chapter&nbsp;4</span></a>) and feature selection (<a href="feature-selection.html"><span>Chapter&nbsp;5</span></a>). Parallelization of many operations is natively supported (<a href="technical.html#sec-parallelization"><span>Section&nbsp;9.1</span></a>).</p><div class="no-row-height column-margin column-container"><span class="">Regression</span><span class="">Classification</span><span class="">Tasks</span><span class="">Learners</span></div></div>
<div class="page-columns page-full"><p><a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> has similar overall aims to <a href="https://cran.r-project.org/package=caret"><code>caret</code></a>, <a href="https://cran.r-project.org/package=tidymodels"><code>tidymodels</code></a>, <a href="https://scikit-learn.org/">scikit-learn</a><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> for Python, and <a href="https://alan-turing-institute.github.io/MLJ.jl/dev/">MLJ</a><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> for Julia. In general <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> is designed to provide more flexibility than other machine learning frameworks while still offering easy ways to use advanced functionality. While in particular tidymodels makes it very easy to perform simple machine learning tasks, <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> is more geared towards advanced machine learning. To get a quick overview of how to do things in the <a href="https://mlr3verse.mlr-org.com"><code>mlr3verse</code></a>, see the <a href="https://cheatsheets.mlr-org.com/">mlr3 cheatsheets</a><a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>.</p><div class="no-row-height column-margin column-container"><li id="fn1"><p><sup>1</sup>&nbsp;<a href="https://scikit-learn.org/">https://scikit-learn.org/</a></p></li><li id="fn2"><p><sup>2</sup>&nbsp;<a href="https://alan-turing-institute.github.io/MLJ.jl/dev/">https://alan-turing-institute.github.io/MLJ.jl/dev/</a></p></li><li id="fn3"><p><sup>3</sup>&nbsp;<a href="https://cheatsheets.mlr-org.com/">https://cheatsheets.mlr-org.com/</a></p></li></div></div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> provides a unified interface to existing <a href="#learners">learners</a> in R. With few exceptions, we do not implement any learners ourselves, although we often augment the functionality provided by the underlying learners. This includes, in particular, the definition of hyperparameter spaces for tuning.</p>
</div>
</div>
<section id="target-audience" class="level2" data-number="1.1"><h2 data-number="1.1" class="anchored" data-anchor-id="target-audience">
<span class="header-section-number">1.1</span> Target audience</h2>
<p>We assume that users of <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> have taken an introductory machine learning course or have the equivalent expertise and some basic experience with R. A background in computer science or statistics is beneficial for understanding the advanced functionality described in the later chapters of this book, but not required. <span class="citation" data-cites="james_introduction_2014">(<a href="references.html#ref-james_introduction_2014" role="doc-biblioref">James et al. 2014</a>)</span> provides a comprehensive introduction for those new to machine learning.</p>
<p><a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> provides a domain-specific language for machine learning in R that allows to do everything from simple exercises to complex projects. We target both <strong>practitioners</strong> who want to quickly apply machine learning algorithms and <strong>researchers</strong> who want to implement, benchmark, and compare their new methods in a structured environment.</p>
</section><section id="from-mlr-to-mlr3" class="level2 page-columns page-full" data-number="1.2"><h2 data-number="1.2" class="anchored" data-anchor-id="from-mlr-to-mlr3">
<span class="header-section-number">1.2</span> From mlr to mlr3</h2>
<div class="page-columns page-full"><p>The <a href="https://cran.r-project.org/package=mlr"><code>mlr</code></a> package <span class="citation" data-cites="mlr">(<a href="references.html#ref-mlr" role="doc-biblioref">Bischl et al. 2016</a>)</span> was first released to <a href="https://cran.r-project.org">CRAN</a><a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> in 2013, with the core design and architecture dating back much further. Over time, the addition of many features has led to a considerably more complex design that made it harder to build, maintain, and extend than we had hoped for. In hindsight, we saw that some design and architecture choices in <a href="https://cran.r-project.org/package=mlr"><code>mlr</code></a> made it difficult to support new features, in particular with respect to machine learning pipelines. Furthermore, the R ecosystem and helpful packages such as <a href="https://cran.r-project.org/package=data.table"><code>data.table</code></a> have undergone major changes after the initial design of <a href="https://cran.r-project.org/package=mlr"><code>mlr</code></a>.</p><div class="no-row-height column-margin column-container"><li id="fn4"><p><sup>4</sup>&nbsp;<a href="https://cran.r-project.org">https://cran.r-project.org</a></p></li></div></div>
<p>It would have been impossible to integrate all of these changes into the original design of <a href="https://cran.r-project.org/package=mlr"><code>mlr</code></a>. Instead, we decided to start working on a reimplementation in 2018, which resulted in the first release of <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> on CRAN in July 2019.</p>
<p>The new design and the integration of further and newly-developed R packages (especially <a href="https://cran.r-project.org/package=R6"><code>R6</code></a>, <a href="https://cran.r-project.org/package=future"><code>future</code></a>, and <a href="https://cran.r-project.org/package=data.table"><code>data.table</code></a>) makes <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> much easier to use, maintain, and in many regards more efficient than its predecessor <a href="https://cran.r-project.org/package=mlr"><code>mlr</code></a>. The packages in the ecosystem are less tightly coupled, making them easier to maintain and easier to develop, especially very specialized packages.</p>
</section><section id="design-principles" class="level2" data-number="1.3"><h2 data-number="1.3" class="anchored" data-anchor-id="design-principles">
<span class="header-section-number">1.3</span> Design principles</h2>
<div class="callout-note callout callout-style-simple callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Some readers may want to skip this section of the book.
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>
<p>We follow these general design principles in the <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> package and <a href="https://mlr3verse.mlr-org.com"><code>mlr3verse</code></a> ecosystem.</p>
<ul>
<li>
<strong>Separation of computation and presentation</strong>. Most packages of the <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> ecosystem focus on processing and transforming data, applying machine learning algorithms, and computing results. Our core packages do not provide graphical user interfaces (GUIs) because their dependencies would make installation unnecessarily complex, especially on headless servers. For the same reason, visualizations of data and results are provided in the extra package <a href="https://mlr3viz.mlr-org.com"><code>mlr3viz</code></a>, which avoids dependencies on <code>ggplot2</code>. <a href="https://cran.r-project.org/package=mlr3shiny"><code>mlr3shiny</code></a> provides an interface for some basic machine learning tasks using the <a href="https://cran.r-project.org/package=shiny"><code>shiny</code></a> package.</li>
<li>
<strong>Object-oriented programming (OOP)</strong>. Embrace <a href="https://cran.r-project.org/package=R6"><code>R6</code></a> for a clean, object-oriented design, object state-changes, and reference semantics.</li>
<li>
<strong>Tabular data</strong>. Embrace <a href="https://cran.r-project.org/package=data.table"><code>data.table</code></a> for its top-notch computation performance as well as tabular data as a data structure which can be easily processed further.</li>
<li>
<strong>Unify input and output data formats.</strong> This considerably simplifies the API and allows easy selection and “split-apply-combine” (aggregation) operations. We combine <code>data.table</code> and <code>R6</code> to place references to non-atomic and compound objects in tables and make heavy use of list columns.</li>
<li>
<strong>Defensive programming and type safety</strong>. All user input is checked with <a href="https://cran.r-project.org/package=checkmate"><code>checkmate</code></a> <span class="citation" data-cites="checkmate">(<a href="references.html#ref-checkmate" role="doc-biblioref">Lang 2017</a>)</span>. We document return types, and avoid mechanisms popular in base R which “simplify” the result unpredictably (e.g., <code><a href="https://rdrr.io/r/base/lapply.html">sapply()</a></code> or the <code>drop</code> argument for indexing data.frames). And we have extensive unit tests!</li>
<li>
<strong>Light on dependencies</strong>. One of the main maintenance burdens for <a href="https://cran.r-project.org/package=mlr"><code>mlr</code></a> was to keep up with changing learner interfaces and behavior of the many packages it depended on. We require far fewer packages in <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> to make installation and maintenance easier. We still provide the same functionality, but it is split into more packages that have fewer dependencies individually. As mentioned above, this is particularly the case for all visualization functionality, which is contained in a separate package to avoid unnecessary dependencies in all other packages.</li>
</ul></section><section id="package-ecosystem" class="level2 page-columns page-full" data-number="1.4"><h2 data-number="1.4" class="anchored" data-anchor-id="package-ecosystem">
<span class="header-section-number">1.4</span> Package ecosystem</h2>
<p><a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> depends on the following popular and well-established packages that are not developed by core members of the <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> team:</p>
<ul>
<li>
<a href="https://cran.r-project.org/package=R6"><code>R6</code></a>: The class system predominantly used in mlr3.</li>
<li>
<a href="https://cran.r-project.org/package=data.table"><code>data.table</code></a>: High-performance extension of R’s <code>data.frame</code>.</li>
<li>
<a href="https://cran.r-project.org/package=digest"><code>digest</code></a>: Cryptographic hash functions.</li>
<li>
<a href="https://cran.r-project.org/package=uuid"><code>uuid</code></a>: Generation of universally unique identifiers.</li>
<li>
<a href="https://cran.r-project.org/package=lgr"><code>lgr</code></a>: Highly configurable logging library.</li>
<li>
<a href="https://cran.r-project.org/package=mlbench"><code>mlbench</code></a> and <a href="https://cran.r-project.org/package=palmerpenguins"><code>palmerpenguins</code></a>: More machine learning data sets.</li>
<li>
<a href="https://cran.r-project.org/package=evaluate"><code>evaluate</code></a>: For capturing output, warnings, and exceptions (<a href="technical.html#sec-error-handling"><span>Section&nbsp;9.2</span></a>).</li>
<li>
<a href="https://cran.r-project.org/package=future"><code>future</code></a> / <a href="https://cran.r-project.org/package=future.apply"><code>future.apply</code></a>: For parallelization (<a href="technical.html#sec-parallelization"><span>Section&nbsp;9.1</span></a>).</li>
</ul>
<p>The <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> package itself provides the base functionality that the rest of ecosystem (<code>mlr3verse</code>) relies on and the fundamental building blocks for machine learning. <a href="#fig-mlr3verse">Figure&nbsp;<span>1.1</span></a> shows the packages in the <code>mlr3verse</code> that extend <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> with capabilities for preprocessing, pipelining, visualizations, additional learners, additional task types, and more.</p>
<div class="cell" data-layout-align="center" data-hash="intro_cache/html/fig-mlr3verse_302d2e9ba9da838ce0706581c2101817">
<div class="cell-output-display">
<div id="fig-mlr3verse" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="https://raw.githubusercontent.com/mlr-org/mlr3/master/man/figures/mlr3verse.svg" class="img-fluid figure-img" style="width:98.0%" alt="Diagram showing the packages of the mlr3verse and their relationship."></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1.1: Overview of the <code>mlr3</code> ecosystem, the <code>mlr3verse</code>.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned page-columns page-full">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body page-columns page-full">
<div class="page-columns page-full"><p>A complete list with links to the repositories for the respective packages can be found on our <a href="https://mlr-org.com/ecosystem.html">package overview page</a><a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>.</p><div class="no-row-height column-margin column-container"><li id="fn5"><p><sup>5</sup>&nbsp;<a href="https://mlr-org.com/ecosystem.html">https://mlr-org.com/ecosystem.html</a></p></li></div></div>
</div>
</div>
<p>We build on <a href="https://cran.r-project.org/package=R6"><code>R6</code></a> for object orientation and <a href="https://cran.r-project.org/package=data.table"><code>data.table</code></a> to store and operate on tabular data. Both are core to <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a>; we briefly introduce both packages for beginners. While in-depth expertise with these packages is not necessary, a basic understanding is required to work effectively with <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a>.</p>
</section><section id="sec-r6" class="level2 page-columns page-full" data-number="1.5"><h2 data-number="1.5" class="anchored" data-anchor-id="sec-r6">
<span class="header-section-number">1.5</span> Quick R6 introduction for beginners</h2>
<p><a href="https://cran.r-project.org/package=R6"><code>R6</code></a> is one of R’s more recent paradigm for object-oriented programming (OOP). It addresses shortcomings of earlier OO implementations in R, such as S3, which we used in <a href="https://cran.r-project.org/package=mlr"><code>mlr</code></a>. If you have done any object-oriented programming before, R6 should feel familiar. We focus on the parts of R6 that you need to know to use <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a>.</p>
<p>Objects are created by calling the constructor of an <code><a href="https://r6.r-lib.org/reference/R6Class.html">R6::R6Class()</a></code> object, specifically the initialization method <code>$new()</code>. For example, <code>foo = Foo$new(bar = 1)</code> creates a new object of class <code>Foo</code>, setting the <code>bar</code> argument of the constructor to the value <code>1</code>.</p>
<p>Objects have mutable state that is encapsulated in their fields, which can be accessed through the dollar operator. We can access the <code>bar</code> value in the <code>foo</code> variable from above through <code>foo$bar</code> and set its value by assigning the field, e.g.&nbsp;<code>foo$bar = 2</code>.</p>
<p>In addition to fields, objects expose methods that allow to inspect the object’s state, retrieve information, or perform an action that changes the internal state of the object. For example, the <code>$train()</code> method of a learner changes the internal state of the learner by building and storing a model, which can then be used to make predictions.</p>
<p>Objects can have public and private fields and methods. The public fields and methods define the API to interact with the object. Private methods are only relevant for you if you want to extend <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a>, e.g.&nbsp;with new learners.</p>
<p>Technically, R6 objects are environments, and as such have reference semantics. For example, <code>foo2 = foo</code> does not create a copy of <code>foo</code> in <code>foo2</code>, but another reference to the same actual object. Setting <code>foo$bar = 3</code> will also change <code>foo2$bar</code> to <code>3</code> and vice versa.</p>
<p>To copy an object, use the <code>$clone()</code> method and the <code>deep = TRUE</code> argument for nested objects, for example, <code>foo2 = foo$clone(deep = TRUE)</code>.</p>
<div class="callout-tip callout callout-style-default callout-captioned page-columns page-full">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body page-columns page-full">
<div class="page-columns page-full"><p>For more details on R6, have a look at the excellent <a href="https://r6.r-lib.org/">R6 vignettes</a><a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a>, especially the <a href="https://r6.r-lib.org/articles/Introduction.html">introduction</a><a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a>. For comprehensive R6 information, we refer to the <a href="https://adv-r.hadley.nz/r6.html">R6 chapter from Advanced R</a><a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a>.</p><div class="no-row-height column-margin column-container"><li id="fn6"><p><sup>6</sup>&nbsp;<a href="https://r6.r-lib.org/">https://r6.r-lib.org/</a></p></li><li id="fn7"><p><sup>7</sup>&nbsp;<a href="https://r6.r-lib.org/articles/Introduction.html">https://r6.r-lib.org/articles/Introduction.html</a></p></li><li id="fn8"><p><sup>8</sup>&nbsp;<a href="https://adv-r.hadley.nz/r6.html">https://adv-r.hadley.nz/r6.html</a></p></li></div></div>
</div>
</div>
</section><section id="sec-data.table" class="level2 page-columns page-full" data-number="1.6"><h2 data-number="1.6" class="anchored" data-anchor-id="sec-data.table">
<span class="header-section-number">1.6</span> Quick <code>data.table</code> introduction for beginners</h2>
<p>The package <a href="https://cran.r-project.org/package=data.table"><code>data.table</code></a> implements a popular alternative to R’s <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code>, i.e.&nbsp;an object to store tabular data. We decided to use <a href="https://cran.r-project.org/package=data.table"><code>data.table</code></a> because it is blazingly fast and scales well to bigger data.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Many <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> functions return <code>data.table</code>s which can conveniently be subsetted or combined with other outputs. If you do not like the syntax or are feeling more comfortable with other tools, base <code>data.frame</code>s or <a href="https://cran.r-project.org/package=tibble"><code>tibble</code></a>/<a href="https://cran.r-project.org/package=dplyr"><code>dplyr</code></a>s are just a single <code><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame()</a></code> or <code>as_tibble()</code> away.</p>
</div>
</div>
<p>Data tables are constructed with the <code>data.table()</code> function (whose interface is similar to <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code>) or by converting an object with <code>as.data.table()</code>.</p>
<div class="cell" data-hash="intro_cache/html/intro-002.table-001.table-002_24055566a85312c398b79acf6ffea556">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r numberLines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(<span class="st">"data.table"</span>)</span>
<span id="cb1-2"><a href="#cb1-2"></a>dt <span class="ot">=</span> <span class="fu">data.table</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">y =</span> <span class="fu">rep</span>(letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>], <span class="at">each =</span> <span class="dv">2</span>))</span>
<span id="cb1-3"><a href="#cb1-3"></a>dt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   x y
1: 1 a
2: 2 a
3: 3 b
4: 4 b
5: 5 c
6: 6 c</code></pre>
</div>
</div>
<p><code>data.table</code>s can be used much like <code>data.frame</code>s, but they do provide additional functionality that makes complex operations easier. For example, data can be summarized by groups with the <code>[</code> operator:</p>
<div class="cell" data-hash="intro_cache/html/intro-004.table-003.table-004_f9aef683d571b2c1921629eb3c2adb54">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r numberLines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>dt[, <span class="fu">mean</span>(x), by <span class="ot">=</span> <span class="st">"y"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   y  V1
1: a 1.5
2: b 3.5
3: c 5.5</code></pre>
</div>
</div>
<div class="page-columns page-full"><p>There is also extensive support for many kinds of database join operations (see e.g.&nbsp;<a href="https://rstudio-pubs-static.s3.amazonaws.com/52230_5ae0d25125b544caab32f75f0360e775.html">this RPubs post by Ronald Stalder</a><a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a>) that make it easy to combine multiple <code>data.table</code>s in different ways.</p><div class="no-row-height column-margin column-container"><li id="fn9"><p><sup>9</sup>&nbsp;<a href="https://rstudio-pubs-static.s3.amazonaws.com/52230_5ae0d25125b544caab32f75f0360e775.html">https://rstudio-pubs-static.s3.amazonaws.com/52230_5ae0d25125b544caab32f75f0360e775.html</a></p></li></div></div>
<div class="callout-tip callout callout-style-default callout-captioned page-columns page-full">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body page-columns page-full">
<div class="page-columns page-full"><p>For an in-depth introduction, we refer the reader to the <a href="https://cran.r-project.org/web/packages/data.table/vignettes/datatable-intro.html">excellent data.table introduction vignette</a><a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a>.</p><div class="no-row-height column-margin column-container"><li id="fn10"><p><sup>10</sup>&nbsp;<a href="https://cran.r-project.org/web/packages/data.table/vignettes/datatable-intro.html">https://cran.r-project.org/web/packages/data.table/vignettes/datatable-intro.html</a></p></li></div></div>
</div>
</div>
</section><section id="sec-mlr3-utilities" class="level2" data-number="1.7"><h2 data-number="1.7" class="anchored" data-anchor-id="sec-mlr3-utilities">
<span class="header-section-number">1.7</span> Essential <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> utilities</h2>
<section id="sugar-functions" class="level3 unnumbered unlisted"><h3 class="unnumbered unlisted anchored" data-anchor-id="sugar-functions">Sugar functions</h3>
<p>Most objects in <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> can be created through convenience functions called <em>sugar functions</em>. They provide shortcuts for common code idioms, reducing the amount of code a user has to write. We heavily use sugar functions throughout this book and give the equivalent “full form” for full detail. In most cases, the sugar functions will achieve what you want to do, and you only have to consider using the full R6 code if you program custom objects or extensions. For example <code>lrn("regr.rpart")</code> is the sugar version of <code>LearnerRegrRpart$new()</code>.</p>
</section><section id="dictionaries" class="level3 unnumbered unlisted"><h3 class="unnumbered unlisted anchored" data-anchor-id="dictionaries">Dictionaries</h3>
<p><a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> uses dictionaries to store objects like learners or tasks. These are key-value stores that allow to associate a key with a value that can be an R6 object, much like paper dictionaries associate words with their definitions. Often, values in dictionaries are accessed through sugar functions that automatically use the applicable dictionary without the user having to specify it; only the key to be retrieved needs to be specified. Dictionaries are used to group relevant objects so that they can be listed and retrieved easily. For example, a learner can be retrieved directly from the <code>mlr_learners</code> dictionary using the key <code>"classif.featureless"</code> (<code>mlr_learners$get("classif.featureless")</code>) and you can get an overview over all stored learners with <code>as.data.table(mlr_learners)</code>.</p>
</section><section id="mlr3viz" class="level3 unnumbered unlisted"><h3 class="unnumbered unlisted anchored" data-anchor-id="mlr3viz"><a href="https://mlr3viz.mlr-org.com"><code>mlr3viz</code></a></h3>
<p><a href="https://mlr3viz.mlr-org.com"><code>mlr3viz</code></a> is the package for all plotting functionality in the <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> ecosystem. The package uses a common theme (<code><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">ggplot2::theme_minimal()</a></code>) so that all generated plots have a similar aesthetic. Under the hood, <a href="https://mlr3viz.mlr-org.com"><code>mlr3viz</code></a> uses <code>ggplot2</code>. <a href="https://mlr3viz.mlr-org.com"><code>mlr3viz</code></a> extends <code>fortify</code> and <code>autoplot</code>for use with common <a href="https://mlr3.mlr-org.com"><code>mlr3</code></a> outputs including Prediction, Learner, and Benchmark objects (these objects will be introduced and covered in the next chapter). The most common use of <a href="https://mlr3viz.mlr-org.com"><code>mlr3viz</code></a> is the <code>autoplot()</code> function, where the type of the object passed determines the type of the plot. Plot types are documented in the respective manual page that can be accessed through <code>?autoplot.X</code>. For example, the documentation of plots for regression tasks can be found by running <code>?autoplot.TaskRegr</code>.</p>


<!-- -->

<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography" style="display: none">
<div id="ref-mlr" class="csl-entry" role="doc-biblioentry">
Bischl, Bernd, Michel Lang, Lars Kotthoff, Julia Schiffner, Jakob Richter, Erich Studerus, Giuseppe Casalicchio, and Zachary M. Jones. 2016. <span>“<span class="nocase">mlr</span>: <span>M</span>achine <span>L</span>earning in <span>R</span>.”</span> <em>Journal of Machine Learning Research</em> 17 (170): 1–5. <a href="http://jmlr.org/papers/v17/15-066.html">http://jmlr.org/papers/v17/15-066.html</a>.
</div>
<div id="ref-james_introduction_2014" class="csl-entry" role="doc-biblioentry">
James, Gareth, Daniela Witten, Trevor Hastie, and Robert Tibshirani. 2014. <em>An Introduction to Statistical Learning: With Applications in r</em>. Springer Publishing Company, Incorporated.
</div>
<div id="ref-checkmate" class="csl-entry" role="doc-biblioentry">
Lang, Michel. 2017. <span>“<span class="nocase">checkmate: Fast Argument Checks for Defensive R Programming</span>.”</span> <em><span>The R Journal</span></em> 9 (1): 437–45. <a href="https://doi.org/10.32614/RJ-2017-028">https://doi.org/10.32614/RJ-2017-028</a>.
</div>
<div id="ref-mlr3" class="csl-entry" role="doc-biblioentry">
Lang, Michel, Martin Binder, Jakob Richter, Patrick Schratz, Florian Pfisterer, Stefan Coors, Quay Au, Giuseppe Casalicchio, Lars Kotthoff, and Bernd Bischl. 2019. <span>“<span class="nocase">mlr3</span>: A Modern Object-Oriented Machine Learning Framework in <span>R</span>.”</span> <em>Journal of Open Source Software</em>, December. <a href="https://doi.org/10.21105/joss.01903">https://doi.org/10.21105/joss.01903</a>.
</div>
<div id="ref-R" class="csl-entry" role="doc-biblioentry">
R Core Team. 2019. <em>R: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>.
</div>
</div>
</section></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./preface.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Preface</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./basics.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Fundamentals</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb5" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># Introduction and Overview {#sec-introduction}</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>{{&lt; include _setup.qmd &gt;}}</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>The (**M**achine **L**earning in **R**) <span class="in">`r mlr3`</span> <span class="co">[</span><span class="ot">@mlr3</span><span class="co">]</span> package and ecosystem provide a generic, <span class="in">`r index("object-oriented")`</span>, and extensible framework for <span class="in">`r define("regression")`</span> (@sec-tasks), <span class="in">`r define("classification")`</span> (@sec-classif), and other machine learning <span class="in">`r define("tasks")`</span> (@sec-special) for the R language <span class="co">[</span><span class="ot">@R</span><span class="co">]</span>.</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>This unified interface provides functionality to extend and combine existing machine learning algorithms (<span class="in">`r define("learners")`</span> (@sec-learners)), intelligently select and tune the most appropriate technique for a given machine learning task (@sec-tasks), and perform large-scale comparisons that enable meta-learning.</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>Examples of this advanced functionality include hyperparameter tuning (<span class="co">[</span><span class="ot">@sec-optimization</span><span class="co">]</span>) and feature selection (<span class="co">[</span><span class="ot">@sec-feature-selection</span><span class="co">]</span>).</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>Parallelization of many operations is natively supported (@sec-parallelization).</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="in">`r mlr3`</span> has similar overall aims to <span class="in">`r ref_pkg("caret")`</span>, <span class="in">`r ref_pkg("tidymodels")`</span>, <span class="in">`r link("https://scikit-learn.org/", "scikit-learn")`</span> for Python, and <span class="in">`r link("https://alan-turing-institute.github.io/MLJ.jl/dev/", "MLJ")`</span> for Julia.</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>In general <span class="in">`r mlr3`</span> is designed to provide more flexibility than other machine learning frameworks while still offering easy ways to use advanced functionality.</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>While in particular tidymodels makes it very easy to perform simple machine learning tasks, <span class="in">`r mlr3`</span> is more geared towards advanced machine learning.</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>To get a quick overview of how to do things in the <span class="in">`r mlr3verse`</span>, see the <span class="in">`r link("https://cheatsheets.mlr-org.com/", "mlr3 cheatsheets")`</span>.</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>::: callout-note</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="in">`r mlr3`</span> provides a unified interface to existing <span class="co">[</span><span class="ot">learners</span><span class="co">](#learners)</span> in R.</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>With few exceptions, we do not implement any learners ourselves, although we often augment the functionality provided by the underlying learners.</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>This includes, in particular, the definition of hyperparameter spaces for tuning.</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a><span class="fu">## Target audience</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>We assume that users of <span class="in">`r mlr3`</span> have taken an introductory machine learning course or have the equivalent expertise and some basic experience with R.</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>A background in computer science or statistics is beneficial for understanding the advanced functionality described in the later chapters of this book, but not required.</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">@james_introduction_2014</span><span class="co">]</span> provides a comprehensive introduction for those new to machine learning.</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a><span class="in">`r mlr3`</span> provides a domain-specific language for machine learning in R that allows to do everything from simple exercises to complex projects.</span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>We target both **practitioners** who want to quickly apply machine learning algorithms and **researchers** who want to implement, benchmark, and compare their new methods in a structured environment.</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a><span class="fu">## From mlr to mlr3</span></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>The <span class="in">`r ref_pkg("mlr")`</span> package <span class="co">[</span><span class="ot">@mlr</span><span class="co">]</span> was first released to <span class="in">`r link("https://cran.r-project.org", "CRAN")`</span> in 2013, with the core design and architecture dating back much further.</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>Over time, the addition of many features has led to a considerably more complex design that made it harder to build, maintain, and extend than we had hoped for.</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>In hindsight, we saw that some design and architecture choices in <span class="in">`r ref_pkg("mlr")`</span> made it difficult to support new features, in particular with respect to machine learning pipelines.</span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>Furthermore, the R ecosystem and helpful packages such as <span class="in">`r ref_pkg("data.table")`</span> have undergone major changes after the initial design of <span class="in">`r ref_pkg("mlr")`</span>.</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>It would have been impossible to integrate all of these changes into the original design of <span class="in">`r ref_pkg("mlr")`</span>.</span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>Instead, we decided to start working on a reimplementation in 2018, which resulted in the first release of <span class="in">`r mlr3`</span> on CRAN in July 2019.</span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>The new design and the integration of further and newly-developed R packages (especially <span class="in">`r ref_pkg("R6")`</span>, <span class="in">`r ref_pkg("future")`</span>, and <span class="in">`r ref_pkg("data.table")`</span>) makes <span class="in">`r mlr3`</span> much easier to use, maintain, and in many regards more efficient than its predecessor <span class="in">`r ref_pkg("mlr")`</span>.</span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>The packages in the ecosystem are less tightly coupled, making them easier to maintain and easier to develop, especially very specialized packages.</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a><span class="fu">## Design principles</span></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>{{&lt; include _optional.qmd &gt;}}</span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>We follow these general design principles in the <span class="in">`r mlr3`</span> package and <span class="in">`r mlr3verse`</span> ecosystem.</span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span>**Separation of computation and presentation**.</span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>Most packages of the <span class="in">`r mlr3`</span> ecosystem focus on processing and transforming data, applying machine learning algorithms, and computing results.</span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a>Our core packages do not provide graphical user interfaces (GUIs) because their dependencies would make installation unnecessarily complex, especially on headless servers.</span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a>For the same reason, visualizations of data and results are provided in the extra package <span class="in">`r mlr3viz`</span>, which avoids dependencies on <span class="in">`ggplot2`</span>.</span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a><span class="in">`r ref_pkg("mlr3shiny")`</span> provides an interface for some basic machine learning tasks using the <span class="in">`r ref_pkg("shiny")`</span> package.</span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span>**Object-oriented programming (OOP)**.</span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a>Embrace <span class="in">`r ref_pkg("R6")`</span> for a clean, object-oriented design, object state-changes, and reference semantics.</span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span>**Tabular data**.</span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>Embrace <span class="in">`r ref_pkg("data.table")`</span> for its top-notch computation performance as well as tabular data as a data structure which can be easily processed further.</span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span>**Unify input and output data formats.**</span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a>This considerably simplifies the API and allows easy selection and "split-apply-combine" (aggregation) operations.</span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a>We combine <span class="in">`data.table`</span> and <span class="in">`R6`</span> to place references to non-atomic and compound objects in tables and make heavy use of list columns.</span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span>**Defensive programming and type safety**.</span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a>All user input is checked with <span class="in">`r ref_pkg("checkmate")`</span> <span class="co">[</span><span class="ot">@checkmate</span><span class="co">]</span>.</span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a>We document return types, and avoid mechanisms popular in base R which "simplify" the result unpredictably (e.g., <span class="in">`sapply()`</span> or the <span class="in">`drop`</span> argument for indexing data.frames).</span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a>And we have extensive unit tests!</span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span>**Light on dependencies**.</span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a>One of the main maintenance burdens for <span class="in">`r ref_pkg("mlr")`</span> was to keep up with changing learner interfaces and behavior of the many packages it depended on.</span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a>We require far fewer packages in <span class="in">`r mlr3`</span> to make installation and maintenance easier.</span>
<span id="cb5-68"><a href="#cb5-68" aria-hidden="true" tabindex="-1"></a>We still provide the same functionality, but it is split into more packages that have fewer dependencies individually.</span>
<span id="cb5-69"><a href="#cb5-69" aria-hidden="true" tabindex="-1"></a>As mentioned above, this is particularly the case for all visualization functionality, which is contained in a separate package to avoid unnecessary dependencies in all other packages.</span>
<span id="cb5-70"><a href="#cb5-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-71"><a href="#cb5-71" aria-hidden="true" tabindex="-1"></a><span class="fu">## Package ecosystem</span></span>
<span id="cb5-72"><a href="#cb5-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-73"><a href="#cb5-73" aria-hidden="true" tabindex="-1"></a><span class="in">`r mlr3`</span> depends on the following popular and well-established packages that are not developed by core members of the <span class="in">`r mlr3`</span> team:</span>
<span id="cb5-74"><a href="#cb5-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-75"><a href="#cb5-75" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span><span class="in">`r ref_pkg("R6")`</span>: The class system predominantly used in mlr3.</span>
<span id="cb5-76"><a href="#cb5-76" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span><span class="in">`r ref_pkg("data.table")`</span>: High-performance extension of R's <span class="in">`data.frame`</span>.</span>
<span id="cb5-77"><a href="#cb5-77" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span><span class="in">`r ref_pkg("digest")`</span>: Cryptographic hash functions.</span>
<span id="cb5-78"><a href="#cb5-78" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span><span class="in">`r ref_pkg("uuid")`</span>: Generation of universally unique identifiers.</span>
<span id="cb5-79"><a href="#cb5-79" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span><span class="in">`r ref_pkg("lgr")`</span>: Highly configurable logging library.</span>
<span id="cb5-80"><a href="#cb5-80" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span><span class="in">`r ref_pkg("mlbench")`</span> and <span class="in">`r ref_pkg("palmerpenguins")`</span>: More machine learning data sets.</span>
<span id="cb5-81"><a href="#cb5-81" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span><span class="in">`r ref_pkg("evaluate")`</span>: For capturing output, warnings, and exceptions (@sec-error-handling).</span>
<span id="cb5-82"><a href="#cb5-82" aria-hidden="true" tabindex="-1"></a><span class="ss">*   </span><span class="in">`r ref_pkg("future")`</span> / <span class="in">`r ref_pkg("future.apply")`</span>: For parallelization (@sec-parallelization).</span>
<span id="cb5-83"><a href="#cb5-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-84"><a href="#cb5-84" aria-hidden="true" tabindex="-1"></a>The <span class="in">`r mlr3`</span> package itself provides the base functionality that the rest of ecosystem (<span class="in">`mlr3verse`</span>) relies on and the fundamental building blocks for machine learning.</span>
<span id="cb5-85"><a href="#cb5-85" aria-hidden="true" tabindex="-1"></a>@fig-mlr3verse shows the packages in the <span class="in">`mlr3verse`</span> that extend <span class="in">`r mlr3`</span> with capabilities for preprocessing, pipelining, visualizations, additional learners, additional task types, and more.</span>
<span id="cb5-86"><a href="#cb5-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-87"><a href="#cb5-87" aria-hidden="true" tabindex="-1"></a><span class="in">```{r intro-001, echo = FALSE, fig.align='center', out.width="98%", eval=knitr::is_html_output()}</span></span>
<span id="cb5-88"><a href="#cb5-88" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-mlr3verse</span></span>
<span id="cb5-89"><a href="#cb5-89" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: Overview of the `mlr3` ecosystem, the `mlr3verse`.</span></span>
<span id="cb5-90"><a href="#cb5-90" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-alt: Diagram showing the packages of the mlr3verse and their relationship.</span></span>
<span id="cb5-91"><a href="#cb5-91" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"https://raw.githubusercontent.com/mlr-org/mlr3/master/man/figures/mlr3verse.svg"</span>)</span>
<span id="cb5-92"><a href="#cb5-92" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb5-93"><a href="#cb5-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-94"><a href="#cb5-94" aria-hidden="true" tabindex="-1"></a>::: callout-tip</span>
<span id="cb5-95"><a href="#cb5-95" aria-hidden="true" tabindex="-1"></a>A complete list with links to the repositories for the respective packages can be found on our <span class="in">`r link("https://mlr-org.com/ecosystem.html", "package overview page")`</span>.</span>
<span id="cb5-96"><a href="#cb5-96" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-97"><a href="#cb5-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-98"><a href="#cb5-98" aria-hidden="true" tabindex="-1"></a>We build on <span class="in">`r ref_pkg("R6")`</span> for object orientation and <span class="in">`r ref_pkg("data.table")`</span> to store and operate on tabular data.</span>
<span id="cb5-99"><a href="#cb5-99" aria-hidden="true" tabindex="-1"></a>Both are core to <span class="in">`r mlr3`</span>; we briefly introduce both packages for beginners.</span>
<span id="cb5-100"><a href="#cb5-100" aria-hidden="true" tabindex="-1"></a>While in-depth expertise with these packages is not necessary, a basic understanding is required to work effectively with <span class="in">`r mlr3`</span>.</span>
<span id="cb5-101"><a href="#cb5-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-102"><a href="#cb5-102" aria-hidden="true" tabindex="-1"></a><span class="fu">## Quick R6 introduction for beginners {#sec-r6}</span></span>
<span id="cb5-103"><a href="#cb5-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-104"><a href="#cb5-104" aria-hidden="true" tabindex="-1"></a><span class="in">`r ref_pkg("R6")`</span> is one of R's more recent paradigm for object-oriented programming (OOP).</span>
<span id="cb5-105"><a href="#cb5-105" aria-hidden="true" tabindex="-1"></a>It addresses shortcomings of earlier OO implementations in R, such as S3, which we used in <span class="in">`r ref_pkg("mlr")`</span>.</span>
<span id="cb5-106"><a href="#cb5-106" aria-hidden="true" tabindex="-1"></a>If you have done any object-oriented programming before, R6 should feel familiar.</span>
<span id="cb5-107"><a href="#cb5-107" aria-hidden="true" tabindex="-1"></a>We focus on the parts of R6 that you need to know to use <span class="in">`r mlr3`</span>.</span>
<span id="cb5-108"><a href="#cb5-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-109"><a href="#cb5-109" aria-hidden="true" tabindex="-1"></a>Objects are created by calling the constructor of an <span class="in">`R6::R6Class()`</span> object, specifically the initialization method <span class="in">`$new()`</span>.</span>
<span id="cb5-110"><a href="#cb5-110" aria-hidden="true" tabindex="-1"></a>For example, <span class="in">`foo = Foo$new(bar = 1)`</span> creates a new object of class <span class="in">`Foo`</span>, setting the <span class="in">`bar`</span> argument of the constructor to the value <span class="in">`1`</span>.</span>
<span id="cb5-111"><a href="#cb5-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-112"><a href="#cb5-112" aria-hidden="true" tabindex="-1"></a>Objects have mutable state that is encapsulated in their fields, which can be accessed through the dollar operator.</span>
<span id="cb5-113"><a href="#cb5-113" aria-hidden="true" tabindex="-1"></a>We can access the <span class="in">`bar`</span> value in the <span class="in">`foo`</span> variable from above through <span class="in">`foo$bar`</span> and set its value by assigning the field, e.g. <span class="in">`foo$bar = 2`</span>.</span>
<span id="cb5-114"><a href="#cb5-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-115"><a href="#cb5-115" aria-hidden="true" tabindex="-1"></a>In addition to fields, objects expose methods that allow to inspect the object's state, retrieve information, or perform an action that changes the internal state of the object.</span>
<span id="cb5-116"><a href="#cb5-116" aria-hidden="true" tabindex="-1"></a>For example, the <span class="in">`$train()`</span> method of a learner changes the internal state of the learner by building and storing a model, which can then be used to make predictions.</span>
<span id="cb5-117"><a href="#cb5-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-118"><a href="#cb5-118" aria-hidden="true" tabindex="-1"></a>Objects can have public and private fields and methods.</span>
<span id="cb5-119"><a href="#cb5-119" aria-hidden="true" tabindex="-1"></a>The public fields and methods define the API to interact with the object.</span>
<span id="cb5-120"><a href="#cb5-120" aria-hidden="true" tabindex="-1"></a>Private methods are only relevant for you if you want to extend <span class="in">`r mlr3`</span>, e.g. with new learners.</span>
<span id="cb5-121"><a href="#cb5-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-122"><a href="#cb5-122" aria-hidden="true" tabindex="-1"></a>Technically, R6 objects are environments, and as such have reference semantics.</span>
<span id="cb5-123"><a href="#cb5-123" aria-hidden="true" tabindex="-1"></a>For example, <span class="in">`foo2 = foo`</span> does not create a copy of <span class="in">`foo`</span> in <span class="in">`foo2`</span>, but another reference to the same actual object.</span>
<span id="cb5-124"><a href="#cb5-124" aria-hidden="true" tabindex="-1"></a>Setting <span class="in">`foo$bar = 3`</span> will also change <span class="in">`foo2$bar`</span> to <span class="in">`3`</span> and vice versa.</span>
<span id="cb5-125"><a href="#cb5-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-126"><a href="#cb5-126" aria-hidden="true" tabindex="-1"></a>To copy an object, use the <span class="in">`$clone()`</span> method and the <span class="in">`deep = TRUE`</span> argument for nested objects, for example, <span class="in">`foo2 = foo$clone(deep = TRUE)`</span>.</span>
<span id="cb5-127"><a href="#cb5-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-128"><a href="#cb5-128" aria-hidden="true" tabindex="-1"></a>::: callout-tip</span>
<span id="cb5-129"><a href="#cb5-129" aria-hidden="true" tabindex="-1"></a>For more details on R6, have a look at the excellent <span class="in">`r link("https://r6.r-lib.org/", "R6 vignettes")`</span>, especially the <span class="in">`r link("https://r6.r-lib.org/articles/Introduction.html", "introduction")`</span>. For comprehensive R6 information, we refer to the <span class="in">`r link("https://adv-r.hadley.nz/r6.html", "R6 chapter from Advanced R")`</span>.</span>
<span id="cb5-130"><a href="#cb5-130" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-131"><a href="#cb5-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-132"><a href="#cb5-132" aria-hidden="true" tabindex="-1"></a><span class="fu">## Quick `data.table` introduction for beginners {#sec-data.table}</span></span>
<span id="cb5-133"><a href="#cb5-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-134"><a href="#cb5-134" aria-hidden="true" tabindex="-1"></a>The package <span class="in">`r ref_pkg("data.table")`</span> implements a popular alternative to R's <span class="in">`data.frame()`</span>, i.e. an object to store tabular data.</span>
<span id="cb5-135"><a href="#cb5-135" aria-hidden="true" tabindex="-1"></a>We decided to use <span class="in">`r ref_pkg("data.table")`</span> because it is blazingly fast and scales well to bigger data.</span>
<span id="cb5-136"><a href="#cb5-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-137"><a href="#cb5-137" aria-hidden="true" tabindex="-1"></a>::: callout-note</span>
<span id="cb5-138"><a href="#cb5-138" aria-hidden="true" tabindex="-1"></a>Many <span class="in">`r mlr3`</span> functions return <span class="in">`data.table`</span>s which can conveniently be subsetted or combined with other outputs.</span>
<span id="cb5-139"><a href="#cb5-139" aria-hidden="true" tabindex="-1"></a>If you do not like the syntax or are feeling more comfortable with other tools, base <span class="in">`data.frame`</span>s or <span class="in">`r ref_pkg("tibble")`</span>/<span class="in">`r ref_pkg("dplyr")`</span>s are just a single <span class="in">`as.data.frame()`</span> or <span class="in">`as_tibble()`</span> away.</span>
<span id="cb5-140"><a href="#cb5-140" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-141"><a href="#cb5-141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-142"><a href="#cb5-142" aria-hidden="true" tabindex="-1"></a>Data tables are constructed with the <span class="in">`data.table()`</span> function (whose interface is similar to <span class="in">`data.frame()`</span>) or by converting an object with <span class="in">`as.data.table()`</span>.</span>
<span id="cb5-143"><a href="#cb5-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-144"><a href="#cb5-144" aria-hidden="true" tabindex="-1"></a><span class="in">```{r intro-002.table-001.table-002}</span></span>
<span id="cb5-145"><a href="#cb5-145" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"data.table"</span>)</span>
<span id="cb5-146"><a href="#cb5-146" aria-hidden="true" tabindex="-1"></a>dt <span class="ot">=</span> <span class="fu">data.table</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">y =</span> <span class="fu">rep</span>(letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>], <span class="at">each =</span> <span class="dv">2</span>))</span>
<span id="cb5-147"><a href="#cb5-147" aria-hidden="true" tabindex="-1"></a>dt</span>
<span id="cb5-148"><a href="#cb5-148" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb5-149"><a href="#cb5-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-150"><a href="#cb5-150" aria-hidden="true" tabindex="-1"></a><span class="in">`data.table`</span>s can be used much like <span class="in">`data.frame`</span>s, but they do provide additional functionality that makes complex operations easier.</span>
<span id="cb5-151"><a href="#cb5-151" aria-hidden="true" tabindex="-1"></a>For example, data can be summarized by groups with the <span class="in">`[`</span> operator:</span>
<span id="cb5-152"><a href="#cb5-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-153"><a href="#cb5-153" aria-hidden="true" tabindex="-1"></a><span class="in">```{r intro-004.table-003.table-004}</span></span>
<span id="cb5-154"><a href="#cb5-154" aria-hidden="true" tabindex="-1"></a>dt[, <span class="fu">mean</span>(x), by <span class="ot">=</span> <span class="st">"y"</span>]</span>
<span id="cb5-155"><a href="#cb5-155" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb5-156"><a href="#cb5-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-157"><a href="#cb5-157" aria-hidden="true" tabindex="-1"></a>There is also extensive support for many kinds of database join operations (see e.g. <span class="in">`r link("https://rstudio-pubs-static.s3.amazonaws.com/52230_5ae0d25125b544caab32f75f0360e775.html", "this RPubs post by Ronald Stalder")`</span>) that make it easy to combine multiple <span class="in">`data.table`</span>s in different ways.</span>
<span id="cb5-158"><a href="#cb5-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-159"><a href="#cb5-159" aria-hidden="true" tabindex="-1"></a>::: callout-tip</span>
<span id="cb5-160"><a href="#cb5-160" aria-hidden="true" tabindex="-1"></a>For an in-depth introduction, we refer the reader to the <span class="in">`r link("https://cran.r-project.org/web/packages/data.table/vignettes/datatable-intro.html", "excellent data.table introduction vignette")`</span>.</span>
<span id="cb5-161"><a href="#cb5-161" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb5-162"><a href="#cb5-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-163"><a href="#cb5-163" aria-hidden="true" tabindex="-1"></a><span class="fu">## Essential `r mlr3` utilities {#sec-mlr3-utilities}</span></span>
<span id="cb5-164"><a href="#cb5-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-165"><a href="#cb5-165" aria-hidden="true" tabindex="-1"></a><span class="fu">### Sugar functions {.unnumbered .unlisted}</span></span>
<span id="cb5-166"><a href="#cb5-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-167"><a href="#cb5-167" aria-hidden="true" tabindex="-1"></a>Most objects in <span class="in">`r mlr3`</span> can be created through convenience functions called *sugar functions*.</span>
<span id="cb5-168"><a href="#cb5-168" aria-hidden="true" tabindex="-1"></a>They provide shortcuts for common code idioms, reducing the amount of code a user has to write.</span>
<span id="cb5-169"><a href="#cb5-169" aria-hidden="true" tabindex="-1"></a>We heavily use sugar functions throughout this book and give the equivalent "full form" for full detail.</span>
<span id="cb5-170"><a href="#cb5-170" aria-hidden="true" tabindex="-1"></a>In most cases, the sugar functions will achieve what you want to do, and you only have to consider using the full R6 code if you program custom objects or extensions.</span>
<span id="cb5-171"><a href="#cb5-171" aria-hidden="true" tabindex="-1"></a>For example <span class="in">`lrn("regr.rpart")`</span> is the sugar version of <span class="in">`LearnerRegrRpart$new()`</span>.</span>
<span id="cb5-172"><a href="#cb5-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-173"><a href="#cb5-173" aria-hidden="true" tabindex="-1"></a><span class="fu">### Dictionaries {.unnumbered .unlisted}</span></span>
<span id="cb5-174"><a href="#cb5-174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-175"><a href="#cb5-175" aria-hidden="true" tabindex="-1"></a><span class="in">`r mlr3`</span> uses dictionaries to store objects like learners or tasks.</span>
<span id="cb5-176"><a href="#cb5-176" aria-hidden="true" tabindex="-1"></a>These are key-value stores that allow to associate a key with a value that can be an R6 object, much like paper dictionaries associate words with their definitions.</span>
<span id="cb5-177"><a href="#cb5-177" aria-hidden="true" tabindex="-1"></a>Often, values in dictionaries are accessed through sugar functions that automatically use the applicable dictionary without the user having to specify it; only the key to be retrieved needs to be specified.</span>
<span id="cb5-178"><a href="#cb5-178" aria-hidden="true" tabindex="-1"></a>Dictionaries are used to group relevant objects so that they can be listed and retrieved easily.</span>
<span id="cb5-179"><a href="#cb5-179" aria-hidden="true" tabindex="-1"></a>For example, a learner can be retrieved directly from the <span class="in">`mlr_learners`</span> dictionary using the key <span class="in">`"classif.featureless"`</span> (<span class="in">`mlr_learners$get("classif.featureless")`</span>) and you can get an overview over all stored learners with <span class="in">`as.data.table(mlr_learners)`</span>.</span>
<span id="cb5-180"><a href="#cb5-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-181"><a href="#cb5-181" aria-hidden="true" tabindex="-1"></a><span class="fu">### `r mlr3viz` {.unnumbered .unlisted}</span></span>
<span id="cb5-182"><a href="#cb5-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-183"><a href="#cb5-183" aria-hidden="true" tabindex="-1"></a><span class="in">`r mlr3viz`</span> is the package for all plotting functionality in the <span class="in">`r mlr3`</span> ecosystem.</span>
<span id="cb5-184"><a href="#cb5-184" aria-hidden="true" tabindex="-1"></a>The package uses a common theme (<span class="in">`ggplot2::theme_minimal()`</span>) so that all generated plots have a similar aesthetic.</span>
<span id="cb5-185"><a href="#cb5-185" aria-hidden="true" tabindex="-1"></a>Under the hood, <span class="in">`r mlr3viz`</span> uses <span class="in">`ggplot2`</span>.</span>
<span id="cb5-186"><a href="#cb5-186" aria-hidden="true" tabindex="-1"></a><span class="in">`r mlr3viz`</span> extends <span class="in">`fortify`</span> and <span class="in">`autoplot`</span>for use with common <span class="in">`r mlr3`</span> outputs including Prediction, Learner, and Benchmark objects (these objects will be introduced and covered in the next chapter).</span>
<span id="cb5-187"><a href="#cb5-187" aria-hidden="true" tabindex="-1"></a>The most common use of <span class="in">`r mlr3viz`</span> is the <span class="in">`autoplot()`</span> function, where the type of the object passed determines the type of the plot.</span>
<span id="cb5-188"><a href="#cb5-188" aria-hidden="true" tabindex="-1"></a>Plot types are documented in the respective manual page that can be accessed through <span class="in">`?autoplot.X`</span>.</span>
<span id="cb5-189"><a href="#cb5-189" aria-hidden="true" tabindex="-1"></a>For example, the documentation of plots for regression tasks can be found by running <span class="in">`?autoplot.TaskRegr`</span>.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">All content licenced under <a href="https://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0</a>.</div>   
      <div class="nav-footer-center"><a href="https://mlr-org.com">Website</a> | <a href="https://github.com/mlr-org/mlr3book">GitHub</a> | <a href="https://mlr-org.com/gallery">Gallery</a> | <a href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/">Mattermost</a></div>
    <div class="nav-footer-right">Written with <i class="bi bi-heart-fill"></i> for #rstats, ML and FOSS by the mlr-org team.</div>
  </div>
</footer>


<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>